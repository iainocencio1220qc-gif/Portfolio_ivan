---
const { variant = 'default' } = Astro.props;
---
<section class="newsletter" aria-labelledby="newsletter-heading">
  <h2 id="newsletter-heading" class="newsletter__title">Join the newsletter</h2>
  <p class="newsletter__text">Get updates and thoughts in your inbox. No spam.</p>
  <form class="newsletter__form" action="#" method="post" data-newsletter id="newsletter-form">
    <label for="newsletter-email" class="visually-hidden">Email address</label>
    <input
      id="newsletter-email"
      type="email"
      name="email"
      class="input newsletter__input"
      placeholder="you@example.com"
      required
      autocomplete="email"
    />
    <button type="submit" class="btn btn-accent newsletter__btn">
      Join the newsletter
    </button>
  </form>
</section>

<style>
  .newsletter {
    margin: var(--space-2xl) 0;
  }
  .newsletter__title {
    margin-bottom: var(--space-sm);
  }
  .newsletter__text {
    margin-bottom: var(--space-md);
    color: #333;
  }
  .newsletter__form {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    max-width: 28rem;
  }
  .newsletter__input {
    flex: 1 1 14rem;
    min-width: 0;
  }
  .newsletter__btn {
    flex: 0 0 auto;
  }
  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
</style>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('newsletter-form')?.addEventListener('submit', (e) => {
      e.preventDefault();
    });
  });
</script>
